<%
  #include_javascript "underscore", "backbone", "menus/index"
  include_javascript "underscore", "menu/index"
%>

<div id="app">

<table id="recipe_table">
</table>

<h2><%= @menu.name %></h2>

<ul id="meals">
  <%= @menu.meals.each do |meal| %>
  <li>
    <%= meal %>
    <ul id="ingredients">
      <%= meal.ingredients.each do |ingredient| %>
        <li><%= ingredient.format %></li>
      <% end %>
    </ul>
  </li>



  <% end %>
</ul>

</div>

<script id="recipe_template" type="text/template">
  <tr>
    <td><?= name ?></td>
    <td>
    <ul>
      <? for ( var i in ingredients ) { ?>
          <li><?= ingredients[i].format ?></li>
      <? } ?>
    </ul>
    </td>
  </tr>
</script>
